<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <meta id="repository-name" content="github.com/mosop/cli">
  <link href="css/style.css" rel="stylesheet" type="text/css" />
  <script type="text/javascript" src="js/doc.js"></script>
  <title>README - github.com/mosop/cli</title>
</head>
<body>

<div id="types-list">
  <div id="search-box">
    <input type="search" id="search-input" placeholder="Search...">
  </div>

  <ul>
    <li class="current"><a href="index.html">README</a></li>
  </ul>

  <ul>
  
  <li class="parent " data-id="github.com/mosop/cli/Cli" data-name="cli">
      <a href="Cli.html">Cli</a>
      
        <ul>
  
  <li class=" " data-id="github.com/mosop/cli/Cli/Command" data-name="cli::command">
      <a href="Cli/Command.html">Command</a>
      
    </li>
  
  <li class=" " data-id="github.com/mosop/cli/Cli/CommandBase" data-name="cli::commandbase">
      <a href="Cli/CommandBase.html">CommandBase</a>
      
    </li>
  
  <li class=" " data-id="github.com/mosop/cli/Cli/Exit" data-name="cli::exit">
      <a href="Cli/Exit.html">Exit</a>
      
    </li>
  
  <li class="parent " data-id="github.com/mosop/cli/Cli/IoHash" data-name="cli::iohash">
      <a href="Cli/IoHash.html">IoHash</a>
      
        <ul>
  
  <li class=" " data-id="github.com/mosop/cli/Cli/IoHash/NameArg" data-name="cli::iohash::namearg">
      <a href="Cli/IoHash/NameArg.html">NameArg</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/mosop/cli/Cli/Ios" data-name="cli::ios">
      <a href="Cli/Ios.html">Ios</a>
      
        <ul>
  
  <li class=" " data-id="github.com/mosop/cli/Cli/Ios/Pipe" data-name="cli::ios::pipe">
      <a href="Cli/Ios/Pipe.html">Pipe</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/mosop/cli/Cli/OptionModel" data-name="cli::optionmodel">
      <a href="Cli/OptionModel.html">OptionModel</a>
      
        <ul>
  
  <li class=" " data-id="github.com/mosop/cli/Cli/OptionModel/Parser" data-name="cli::optionmodel::parser">
      <a href="Cli/OptionModel/Parser.html">Parser</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class="parent " data-id="github.com/mosop/cli/Cli/Spec" data-name="cli::spec">
      <a href="Cli/Spec.html">Spec</a>
      
        <ul>
  
  <li class=" " data-id="github.com/mosop/cli/Cli/Spec/Helper" data-name="cli::spec::helper">
      <a href="Cli/Spec/Helper.html">Helper</a>
      
    </li>
  
</ul>

      
    </li>
  
  <li class=" " data-id="github.com/mosop/cli/Cli/Supercommand" data-name="cli::supercommand">
      <a href="Cli/Supercommand.html">Supercommand</a>
      
    </li>
  
</ul>

      
    </li>
  
</ul>

</div>

<div id="main-content">
<h1>Crystal CLI</h1>

<p>Yet another Crystal library for building command-line interface applications.</p>

<p><a href="https://travis-ci.org/mosop/cli" target="_blank"><img src="https://travis-ci.org/mosop/cli.svg?branch=master" alt="Build Status"/></a></p>

<h2>Installation</h2>

<p>Add this to your application's <code>shard.yml</code>:</p>

<pre><code class='language-yaml'>dependencies:
  cli:
    github: mosop/cli</code></pre>

<p>&lt;a name="code_samples">&lt;/a></p>

<h2>Code Samples</h2>

<h3>Option Parser</h3>

<pre><code class='language-crystal'><span class="k">class</span> <span class="t">Hello</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Command</span>
  <span class="k">class</span> <span class="t">Options</span>
    bool <span class="s">&quot;--bye&quot;</span>
    arg <span class="s">&quot;to&quot;</span>
  <span class="k">end</span>

  <span class="k">def</span> <span class="m">run</span>
    <span class="k">if</span> args.bye?
      print <span class="s">&quot;Goodbye&quot;</span>
    <span class="k">else</span>
      print <span class="s">&quot;Hello&quot;</span>
    <span class="k">end</span>
    puts <span class="s">&quot; </span><span class="i">#{</span></span>args.to<span class="s"><span class="i">}</span>&#33;&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">Hello</span>.run <span class="s">%w(world)</span> <span class="c"># prints &quot;Hello, world&#33;&quot;</span>
<span class="t">Hello</span>.run <span class="s">%w(--bye world)</span> <span class="c"># prints &quot;Goodbye, world&#33;&quot;</span></code></pre>

<h3>Subcommand</h3>

<pre><code class='language-crystal'><span class="k">class</span> <span class="t">Polygon</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Supercommand</span>
  command <span class="s">&quot;triangle&quot;</span>, default: <span class="n">true</span>

  <span class="k">class</span> <span class="t">Triangle</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Command</span>
    <span class="k">def</span> <span class="m">run</span>
      puts <span class="n">3</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">class</span> <span class="t">Square</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Command</span>
    <span class="k">def</span> <span class="m">run</span>
      puts <span class="n">4</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">class</span> <span class="t">Hexagon</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Command</span>
    <span class="k">def</span> <span class="m">run</span>
      puts <span class="n">6</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">Polygon</span>.run <span class="s">%w(triangle)</span> <span class="c"># prints &quot;3&quot;</span>
<span class="t">Polygon</span>.run <span class="s">%w(square)</span>   <span class="c"># prints &quot;4&quot;</span>
<span class="t">Polygon</span>.run <span class="s">%w(hexagon)</span>  <span class="c"># prints &quot;6&quot;</span>
<span class="t">Polygon</span>.run <span class="s">%w()</span>         <span class="c"># prints &quot;3&quot;</span></code></pre>

<h3>Aliasing</h3>

<pre><code class='language-crystal'><span class="k">class</span> <span class="t">Command</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Supercommand</span>
  command <span class="s">&quot;l&quot;</span>, aliased: <span class="s">&quot;loooooooooong&quot;</span>

  <span class="k">class</span> <span class="t">Loooooooooong</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Command</span>
    <span class="k">def</span> <span class="m">run</span>
      sleep <span class="n">1000</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">Command</span>.run <span class="s">%w(l)</span> <span class="c"># sleeps</span></code></pre>

<h3>Inheritance</h3>

<pre><code class='language-crystal'><span class="k">abstract</span> <span class="k">class</span> <span class="t">Role</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Command</span>
  <span class="k">class</span> <span class="t">Options</span>
    string <span class="s">&quot;--name&quot;</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="k">class</span> <span class="t">Chase</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Supercommand</span>
  <span class="k">class</span> <span class="t">Mouse</span> <span class="o"><</span> <span class="t">Role</span>
    <span class="k">def</span> <span class="m">run</span>
      puts <span class="s">&quot;</span><span class="i">#{</span></span>options.name<span class="s"><span class="i">}</span> runs away.&quot;</span>
    <span class="k">end</span>
  <span class="k">end</span>

  <span class="k">class</span> <span class="t">Cat</span> <span class="o"><</span> <span class="t">Role</span>
    <span class="k">def</span> <span class="m">run</span>
      puts <span class="s">&quot;</span><span class="i">#{</span></span>options.name<span class="s"><span class="i">}</span> runs into a wall.&quot;</span>
    <span class="k">end</span>
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">Chase</span>.run <span class="s">%w(mouse --name Jerry)</span> <span class="c"># prints &quot;Jerry runs away.&quot;</span>
<span class="t">Chase</span>.run <span class="s">%w(cat --name Tom)</span>     <span class="c"># prints &quot;Tom runs into a wall.&quot;</span></code></pre>

<h3>Help</h3>

<pre><code class='language-crystal'><span class="k">class</span> <span class="t">Call</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Command</span>
  <span class="k">class</span> <span class="t">Help</span>
    header <span class="s">&quot;Receives an ancient message.&quot;</span>
    footer <span class="s">&quot;&#40;C&#41; 20XX mosop&quot;</span>
  <span class="k">end</span>

  <span class="k">class</span> <span class="t">Options</span>
    arg <span class="s">&quot;message&quot;</span>, desc: <span class="s">&quot;your message to call them&quot;</span>, required: <span class="n">true</span>
    bool <span class="s">&quot;-w&quot;</span>, not: <span class="s">&quot;-W&quot;</span>, desc: <span class="s">&quot;wait for response&quot;</span>, default: <span class="n">true</span>
    help
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">Call</span>.run <span class="s">%w(--help)</span></code></pre>

<p>Output:</p>

<pre><code>call [<span class="t">OPTIONS</span>] <span class="t">MESSAGE</span>

<span class="t">Receives</span> an ancient message.

<span class="t">Arguments</span>:
  <span class="t">MESSAGE</span> (required)  your message to call them

<span class="t">Options</span>:
  <span class="o">-</span>w          wait <span class="k">for</span> response
              (default: <span class="n">true</span>)
  <span class="o">-</span><span class="t">W</span>          disable <span class="o">-</span>w
  <span class="o">-</span>h, </code></pre>

<h3>Versioning</h3>

<pre><code class='language-crystal'><span class="k">class</span> <span class="t">Command</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Supercommand</span>
  version <span class="s">&quot;1.0.0&quot;</span>

  <span class="k">class</span> <span class="t">Options</span>
    version
  <span class="k">end</span>
<span class="k">end</span>

<span class="t">Command</span>.run <span class="s">%w(-v)</span> <span class="c"># prints 1.0.0</span></code></pre>

<h3>Shell Completion</h3>

<pre><code class='language-crystal'><span class="k">class</span> <span class="t">TicketToRide</span> <span class="o"><</span> <span class="t">Cli</span><span class="t">::</span><span class="t">Command</span>
  <span class="k">class</span> <span class="t">Options</span>
    string <span class="s">&quot;--by&quot;</span>, any_of: <span class="s">%w(train plane taxi)</span>
    arg <span class="s">&quot;for&quot;</span>, any_of: <span class="s">%w(kyoto kanazawa kamakura)</span>
  <span class="k">end</span>
<span class="k">end</span>

puts <span class="t">TicketToRide</span>.generate_bash_completion
<span class="c"># or</span>
puts <span class="t">TicketToRide</span>.generate_zsh_completion</code></pre>

<h2>Usage</h2>

<pre><code class='language-crystal'><span class="k">require</span> <span class="s">&quot;cli&quot;</span></code></pre>

<p>and see:</p>

<ul><li><a href="#code_samples" target="_blank">Code Samples</a></li><li><a href="https://github.com/mosop/cli/wiki" target="_blank">Wiki</a></li><li><a href="http://mosop.me/cli/Cli.html" target="_blank">API Document</a></li></ul>

<h2>Want to Do</h2>

<ul><li>Application-Level Logger</li><li>I18n</li></ul>

<h2>Release Notes</h2>

<p>See <a href="https://github.com/mosop/cli/releases" target="_blank">Releases</a>.</p>
</div>
</body>
</html>
